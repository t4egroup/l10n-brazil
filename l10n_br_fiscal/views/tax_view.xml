<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="tax_search" model="ir.ui.view">
        <field name="name">l10n_br_fiscal.tax.search</field>
        <field name="model">l10n_br_fiscal.tax</field>
        <field name="arch" type="xml">
            <search string="Tax">
                <field name="name"/>
                <field name="tax_domain"/>
                <separator/>
                <group expand="0" string="Group By...">
                    <filter context="{'group_by' : 'tax_group_id'}" name="tax_group_id" string="Tax Group"/>
                    <filter context="{'group_by' : 'tax_scope'}" name="tax_scope" string="Tax Scope"/>
                </group>
            </search></field>
    </record>
    <record id="tax_tree" model="ir.ui.view">
        <field name="name">l10n_br_fiscal.tax.tree</field>
        <field name="model">l10n_br_fiscal.tax</field>
        <field name="arch" type="xml">
            <tree>
                <field invisible="1" name="tax_domain"/>
                <field name="name"/>
                <field name="tax_group_id"/>
                <field name="cst_in_id"/>
                <field name="cst_out_id"/>
            </tree></field>
    </record>
    <record id="tax_form" model="ir.ui.view">
        <field name="name">l10n_br_fiscal.tax.form</field>
        <field name="model">l10n_br_fiscal.tax</field>
        <field name="arch" type="xml">
            <form string="Tax">
                <field invisible="1" name="tax_domain"/>
                <field invisible="1" name="sequence"/>
                <sheet>
                    <group>
                        <field name="tax_group_id" options="{'no_create': True, 'no_create_edit': True}"/>
                        <field name="name"/>
                        <field invisible="tax_domain in ('icms', 'icmsst')" name="tax_base_type"/>
                        <field invisible="tax_domain != 'icms'" name="icms_base_type"/>
                        <field invisible="tax_domain != 'icmsst'" name="icmsst_base_type"/>
                        <field invisible="tax_domain != 'icmsst' and icmsst_base_type != '4'" name="icmsst_mva_percent"/>
                        <field invisible="tax_domain != 'icmsst' and icmsst_base_type == '4'" name="icmsst_value"/>
                        <field invisible="tax_base_type != 'percent'" name="percent_amount"/>
                        <field invisible="tax_base_type != 'percent'" name="percent_reduction"/>
                        <field invisible="tax_base_type != 'percent'" name="percent_debit_credit"/>
                        <field invisible="tax_base_type not in ('quantity', 'fixed')" name="value_amount" options="{'currency_field': 'currency_id', 'field_digits': True}" widget="monetary"/>
                        <field invisible="tax_base_type != 'quantity'" name="uot_id" options="{'no_create': True, 'no_create_edit': True}" required="tax_base_type == 'quantity'"/>
                        <field invisible="tax_domain not in ['icms', 'icmssn', 'ipi', 'pis', 'cofins']" name="cst_in_id" options="{'no_create': True, 'no_create_edit': True}"/>
                        <field invisible="tax_domain not in ['icms', 'icmssn', 'ipi', 'pis', 'cofins']" name="cst_out_id" options="{'no_create': True, 'no_create_edit': True}"/>
                    </group>
                </sheet>
            </form></field>
    </record>
</odoo>
